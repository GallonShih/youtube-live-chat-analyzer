# Deployment Environment (dev/prod)
APP_ENV=dev

# Workers for production mode (ignored in dev mode)
# Recommended: (2 x num_cores) + 1
APP_WORKERS=4

# PostgreSQL Configuration
POSTGRES_DB=hermes
POSTGRES_USER=hermes
POSTGRES_PASSWORD=hermes
POSTGRES_PORT=5432

# Database URL (composed from above values)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:${POSTGRES_PORT}/${POSTGRES_DB}

# YouTube API Configuration
YOUTUBE_API_KEY=your_youtube_api_key_here

# Worker Configuration
YOUTUBE_URL=https://www.youtube.com/watch?v=jfKfPfyJRdk
POLL_INTERVAL=60
ENABLE_BACKFILL=false
RETRY_MAX_ATTEMPTS=3
RETRY_BACKOFF_SECONDS=5
CHAT_WATCHDOG_TIMEOUT=1800
CHAT_WATCHDOG_CHECK_INTERVAL=600

# [DEPRECATED] Airflow Configuration
# Note: Airflow has been replaced by APScheduler built into Dashboard Backend.
# These settings are kept for reference only.
# AIRFLOW_IMAGE_NAME=apache/airflow:2.11.0
# AIRFLOW_UID=50000
# AIRFLOW_PROJ_DIR=./airflow
# AIRFLOW_FERNET_KEY=your_fernet_key_here_32_chars_long
# AIRFLOW_WEBSERVER_PORT=8080
# _AIRFLOW_WWW_USER_USERNAME=airflow
# _AIRFLOW_WWW_USER_PASSWORD=airflow
# _PIP_ADDITIONAL_REQUIREMENTS=google-generativeai==0.8.6 jieba==0.42.1 emoji==2.14.0

# pgAdmin Configuration
PGADMIN_EMAIL=admin@example.com
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

# Gemini API Configuration (用於 AI 詞彙發現)
GEMINI_API_KEY=your_gemini_api_key_here

# ETL Scheduler Configuration (APScheduler)
# 是否啟用 ETL 排程器（設為 false 可停用所有排程任務）
ENABLE_ETL_SCHEDULER=true

# Frontend Configuration
VITE_API_BASE_URL=http://localhost:8000

# Authentication Configuration
# ADMIN_PASSWORD: Password for admin login (choose a strong password)
ADMIN_PASSWORD=admin123

# JWT_SECRET_KEY: Secret key for JWT token signing
# Generate with: python3 -c "import secrets; print(secrets.token_hex(32))"
# Or: openssl rand -hex 32
JWT_SECRET_KEY=your_jwt_secret_key_here

# Token expiration settings
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ===========================================
# 以下設定可在 Dashboard UI 中調整 (Admin > ETL Jobs > Settings)
# 這裡的值僅作為參考，實際值儲存在資料庫 etl_settings 表
# ===========================================
# PROCESS_CHAT_START_TIME=       # 處理起始時間 (ISO 格式，空白則從 7 天前開始)
# PROCESS_CHAT_BATCH_SIZE=1000   # 每批處理的訊息數量
# PROCESS_CHAT_RESET=false       # 重置處理表
# DISCOVER_NEW_WORDS_ENABLED=true       # 啟用 AI 詞彙發現
# DISCOVER_NEW_WORDS_MIN_CONFIDENCE=0.7 # 最低信心分數
# DISCOVER_NEW_WORDS_BATCH_SIZE=500     # AI 分析批次大小